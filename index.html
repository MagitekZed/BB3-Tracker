<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BB3 League Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="media/FIBER02.png" alt="Fiber League Logo" id="logo-img">
                <span>FIBER LEAGUE</span>
            </div>
            <nav>
                <button id="nav-leagues" class="active">Leagues</button>
                <button id="nav-admin" class="hidden">Admin</button>
            </nav>
        </header>

        <!-- Main Content Area -->
        <main>
            <!-- League List View -->
            <section id="league-list-view" class="view-section">
                <h2>Select League</h2>
                <div id="league-list" class="card-grid"></div>
            </section>

            <!-- League Dashboard View -->
            <section id="league-dashboard-view" class="view-section hidden">
                <div class="header-with-actions">
                    <button class="back-btn" data-target="league-list-view">← Back</button>
                    <h2 id="league-name">League Name</h2>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" data-tab="standings">Standings</button>
                    <button class="tab-btn" data-tab="schedule">Schedule</button>
                </div>

                <div id="tab-standings" class="tab-content active">
                    <div class="table-container">
                        <table id="standings-table">
                            <thead>
                                <tr>
                                    <th>Team</th>
                                    <th>P</th>
                                    <th>W</th>
                                    <th>D</th>
                                    <th>L</th>
                                    <th>PTS</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="tab-schedule" class="tab-content">
                    <div id="schedule-list" class="list-layout"></div>
                </div>
            </section>

            <!-- Team View -->
            <section id="team-view" class="view-section hidden">
                <div class="header-with-actions">
                    <button class="back-btn" data-target="league-dashboard-view">← Back</button>
                    <h2 id="team-name">Team Name</h2>
                </div>
                <div class="team-stats-summary" id="team-stats-summary">
                    <!-- TV, Treasury etc -->
                </div>
                <div id="roster-list" class="list-layout"></div>
            </section>

            <!-- Match View (Live Tracker) -->
            <section id="match-view" class="view-section hidden">
                <div class="match-header">
                    <div class="team-score" id="home-score-display">
                        <span class="team-name">Home</span>
                        <span class="score">0</span>
                    </div>
                    <div class="match-timer">VS</div>
                    <div class="team-score" id="away-score-display">
                        <span class="score">0</span>
                        <span class="team-name">Away</span>
                    </div>
                </div>
                
                <div class="match-controls">
                    <button id="end-match-btn" class="danger-btn">End Match</button>
                </div>

                <div class="match-tabs">
                    <button class="match-tab active" data-target="home-roster">Home</button>
                    <button class="match-tab" data-target="away-roster">Away</button>
                </div>

                <div id="match-home-roster" class="match-roster-list active"></div>
                <div id="match-away-roster" class="match-roster-list hidden"></div>
            </section>

            <!-- Post-Game Wizard View -->
            <section id="post-game-view" class="view-section hidden">
                <h2>The Aftermath</h2>
                <div class="wizard-progress">
                    <div class="step active" id="step-indicator-1">1. Income</div>
                    <div class="step" id="step-indicator-2">2. MVP</div>
                    <div class="step" id="step-indicator-3">3. Injuries</div>
                    <div class="step" id="step-indicator-4">4. Commit</div>
                </div>

                <div id="post-game-step-1" class="wizard-step">
                    <!-- Generated via JS -->
                </div>
                <div id="post-game-step-2" class="wizard-step hidden"></div>
                <div id="post-game-step-3" class="wizard-step hidden"></div>
                <div id="post-game-step-4" class="wizard-step hidden"></div>

                <div class="wizard-controls">
                    <button id="pg-prev-btn" class="secondary-btn hidden">Back</button>
                    <button id="pg-next-btn" class="primary-btn">Next</button>
                </div>
            </section>

            <!-- Admin View -->
            <section id="admin-view" class="view-section hidden">
                <div class="header-with-actions">
                    <button class="back-btn" data-target="league-list-view">← Back</button>
                    <h2>Administration</h2>
                </div>
                <div class="admin-panel">
                    <h3>Create League</h3>
                    <input type="text" id="new-league-name" placeholder="League Name">
                    <button id="create-league-btn">Create</button>
                </div>
            </section>
        </main>
        
        <!-- Modal Container -->
        <div id="modal-container" class="hidden">
            <div class="modal-content">
                <h3 id="modal-title">Title</h3>
                <div id="modal-body"></div>
                <div class="modal-actions">
                    <button id="modal-cancel">Cancel</button>
                    <button id="modal-confirm">Confirm</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/state.js"></script>
    <script src="js/rules.js"></script>
    <script src="js/ui-core.js"></script>
    <script src="js/ui-league.js"></script>
    <script src="js/ui-team.js"></script>
    <script src="js/ui-match.js"></script>
    <script src="js/ui-postgame.js"></script>
    <script src="js/ui-admin.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
